
/dts-v1/;

/ {
	#address-cells = <2>;
	#size-cells = <2>;
	model = "x86_64_generic";

	aliases { };

	cpus {
		cpu0 {
			device_type = "cpu";
			model = "Intel x86_64 Family";
		};
	};

	memory { 
		device_type = "memory"; 
		reg = <0x0 0x00100000 0x0 0x10000000>; /* 256 MB */
	};

	motherboard {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "simple-bus";

		ps2 {
			device_type = "serio";
			compatible = "i8042";
		};

		ide {
			device_type = "ide";
			compatible = "piix3_ide";
		};

		STDOUT: vga {
		};

		SERIAL0: uart0 {
			compatible = "ns8250";
			reg = <0x3f8 0x0>;
			address_type = "io";
			baudrate = <115200>;
			interrupts = <4>;
			clock-frequency = <24000000>;
		};

		SERIAL1: uart1 {
			compatible = "ns8250";
			reg = <0x2f8 0x0>;
			address_type = "io";
			baudrate = <115200>;
			interrupts = <3>;
			clock-frequency = <24000000>;
		};
	};

    vmm {
    };

	chosen {
		console = &SERIAL0;
		/*console = &STDOUT;*/
		bootcmd = /* Copy guest0 device tree from templates */
			 "vfs mount hda0p0 /",
                         "devtree node copy /guests guest0 /templates/x86_64_generic",
			 "guest create guest0",
			 "vfs guest_load guest0 0x80000 /coreboot.rom",
			 "vfs guest_load guest0 0xfff80000 /coreboot.rom";
	};
};

/include/ "../../common/guests/x86_64_guest.dtsi"
